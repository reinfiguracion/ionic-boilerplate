<ion-view view-title="Employment Information">
  <ion-content class="has-header">
    <form name="employmentForm" novalidate>
      <div class="list">
        <div class="item item-divider">
          Employment Details
        </div>
        <label class="item item-input item-stacked-label" ng-class="{ 'has-errors' : employmentForm.jobTitle.$touched && employmentForm.jobTitle.$invalid, 'no-errors' : employmentForm.jobTitle.$touched && employmentForm.jobTitle.$valid }">
          <span class="input-label">Job Title</span>
          <input
            type="text"
            name="jobTitle"
            placeholder="Software Engineer"
            ng-model="vm.model.employment.position"
            required />
        </label>
        <div class="error-container" ng-messages="employmentForm.jobTitle.$error" ng-if="employmentForm.jobTitle.$touched">
          <div ng-repeat="errorMessage in vm.errorMessages">
            <div class="error padding" ng-message-exp="errorMessage.type">
              <i class="ion-ios-information-outline"></i>
              {{ errorMessage.text }}
            </div>
          </div>
        </div>
        <label class="item item-input item-stacked-label" ng-class="{ 'has-errors' : employmentForm.startDate.$touched && employmentForm.startDate.$invalid, 'no-errors' : employmentForm.startDate.$touched && employmentForm.startDate.$valid }">
          <span class="input-label">Date Started</span>
          <input
            type="month"
            name="startDate"
            max="{{vm.maxMonth}}"
            ng-model="vm.model.employment.startDate"
            required />
        </label>
        <div class="error-container" ng-messages="employmentForm.startDate.$error" ng-if="employmentForm.startDate.$touched">
          <div ng-repeat="errorMessage in vm.errorMessages">
            <div class="error padding" ng-message-exp="errorMessage.type">
              <i class="ion-ios-information-outline"></i>
              {{ errorMessage.text }}
            </div>
          </div>
        </div>
        <div class="item item-divider">
          Company Details
        </div>
        <label class="item item-input item-stacked-label" ng-class="{ 'has-errors' : employmentForm.company.$touched && employmentForm.company.$invalid, 'no-errors' : employmentForm.company.$touched && employmentForm.company.$valid }">
          <span class="input-label">Company Name</span>
          <input
            type="text"
            name="company"
            placeholder="Apple, Inc."
            ng-model="vm.model.company.name"
            required />
        </label>
        <div class="error-container" ng-messages="employmentForm.company.$error" ng-if="employmentForm.company.$touched">
          <div ng-repeat="errorMessage in vm.errorMessages">
            <div class="error padding" ng-message-exp="errorMessage.type">
              <i class="ion-ios-information-outline"></i>
              {{ errorMessage.text }}
            </div>
          </div>
        </div>
        <label class="item item-input item-stacked-label" ng-class="{ 'has-errors' : employmentForm.industry.$touched && employmentForm.industry.$invalid, 'no-errors' : employmentForm.industry.$touched && employmentForm.industry.$valid }">
          <span class="input-label">Company Industry</span>
          <input
            type="text"
            name="industry"
            class="ion-autocomplete"
            placeholder="Information Technology"
            readonly="readonly"
            autocomplete="off"
            ng-model="vm.model.company.industry"
            ion-autocomplete
            item-value-key="text"
            item-view-value-key="text"
            items-method="vm.getIndustries(query)"
            items-clicked-method="vm.itemsClicked(callback)"
            items-removed-method="vm.itemsRemoved(callback)"
            select-items-label="Select company industry..."
            selected-items-label="Selected company industry:"
            max-selected-items="1"
            required />
        </label>
        <div class="error-container" ng-messages="employmentForm.industry.$error" ng-if="employmentForm.industry.$touched">
          <div ng-repeat="errorMessage in vm.errorMessages">
            <div class="error padding" ng-message-exp="errorMessage.type">
              <i class="ion-ios-information-outline"></i>
              {{ errorMessage.text }}
            </div>
          </div>
        </div>
      </div>
    </form>
  </ion-content>
</ion-view>
