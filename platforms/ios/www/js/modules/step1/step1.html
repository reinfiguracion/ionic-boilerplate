<ion-view view-title="Basic Information">
  <ion-nav-buttons side="left">
    <button class="button button-light no-animation" ion-wizard-previous>
      Back
    </button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="button button-light no-animation" ion-wizard-next>
      Next
    </button>
    <button class="button button-light no-animation" ion-wizard-start="vm.apply()" condition="vm.model.income.amount && vm.model.income.source">
      Submit
    </button>
  </ion-nav-buttons>
  <ion-slide-box ion-wizard>
    <ion-slide ion-wizard-step next-condition="loanForm.$dirty && loanForm.$valid">
      <ion-wizard-content class="has-header">
        <form name="loanForm" novalidate>
          <div class="list">
            <div class="item item-divider">
              Loan Details
            </div>
            <label class="item item-input item-stacked-label" ng-class="{ 'has-errors' : loanForm.amount.$invalid, 'no-errors' : loanForm.amount.$valid }">
              <span class="input-label">Loan Amount (in Peso)</span>
              <input
                type="number"
                name="amount"
                placeholder="350,000"
                ng-model="vm.model.applications[0].amount"
                min="10000"
                required />
            </label>
            <div class="error-container" ng-messages="loanForm.amount.$error">
              <div ng-messages-include="js/modules/errors/errors-loan-amount.html"></div>
              <div ng-repeat="errorMessage in vm.errorMessages">
                <div class="error padding" ng-message-exp="errorMessage.type">
                  <i class="ion-ios-information-outline"></i>
                  {{ errorMessage.text }}
                </div>
              </div>
            </div>
          </div>
        </form>
      </ion-wizard-content>
    </ion-slide>
    <ion-slide ion-wizard-step next-condition="personalForm.$dirty && personalForm.$valid">
      <ion-wizard-content class="has-header">
        <form name="personalForm" novalidate>
          <div class="list">
            <div class="item item-divider">
              Personal Details
            </div>
            <label class="item item-input item-stacked-label" ng-class="{ 'has-errors' : personalForm.firstname.$touched && personalForm.firstname.$invalid, 'no-errors' : personalForm.firstname.$touched && personalForm.firstname.$valid }">
              <span class="input-label">First Name</span>
              <input
                type="text"
                name="firstname"
                placeholder="Manuela"
                ng-model="vm.model.profile.firstname"
                required />
            </label>
            <div class="error-container" ng-messages="personalForm.firstname.$error" ng-if="personalForm.firstname.$touched">
              <div ng-repeat="errorMessage in vm.errorMessages">
                <div class="error padding" ng-message-exp="errorMessage.type">
                  <i class="ion-ios-information-outline"></i>
                  {{ errorMessage.text }}
                </div>
              </div>
            </div>
            <label class="item item-input item-stacked-label" ng-class="{ 'has-errors' : personalForm.lastname.$touched && personalForm.lastname.$invalid, 'no-errors' : personalForm.lastname.$touched && personalForm.lastname.$valid }">
              <span class="input-label">Last Name</span>
              <input
                type="text"
                name="lastname"
                placeholder="Velasco"
                ng-model="vm.model.profile.lastname"
                required />
            </label>
            <div class="error-container" ng-messages="personalForm.lastname.$error" ng-if="personalForm.lastname.$touched">
              <div ng-repeat="errorMessage in vm.errorMessages">
                <div class="error padding" ng-message-exp="errorMessage.type">
                  <i class="ion-ios-information-outline"></i>
                  {{ errorMessage.text }}
                </div>
              </div>
            </div>
            <label class="item item-input item-stacked-label" ng-class="{ 'has-errors' : personalForm.age.$touched && personalForm.age.$invalid, 'no-errors' : personalForm.age.$touched && personalForm.age.$valid }">
              <span class="input-label">Age</span>
              <input
                type="number"
                name="age"
                placeholder="35"
                ng-model="vm.model.profile.age"
                min="21"
                max="70"
                required />
            </label>
            <div class="error-container" ng-messages="personalForm.age.$error" ng-if="personalForm.age.$touched">
              <div ng-messages-include="js/modules/errors/errors-age.html"></div>
              <div ng-repeat="errorMessage in vm.errorMessages">
                <div class="error padding" ng-message-exp="errorMessage.type">
                  <i class="ion-ios-information-outline"></i>
                  {{ errorMessage.text }}
                </div>
              </div>
            </div>
            <label class="item item-input item-stacked-label" ng-class="{ 'has-errors' : personalForm.zipcode.$touched && personalForm.zipcode.$invalid, 'no-errors' : personalForm.zipcode.$touched && personalForm.zipcode.$valid }">
              <span class="input-label">Location</span>
              <input
                type="text"
                name="zipcode"
                class="ion-autocomplete"
                placeholder="Central, Quezon City 1100"
                readonly="readonly"
                autocomplete="off"
                ng-model="vm.model.profile.address"
                ion-autocomplete
                item-value-key="cityName"
                item-view-value-key="cityName"
                items-method="vm.getLocations(query)"
                items-clicked-method="vm.itemsClicked(callback)"
                items-removed-method="vm.itemsRemoved(callback)"
                select-items-label="Select your location..."
                selected-items-label="Selected location:"
                max-selected-items="1"
                required />
            </label>
            <div class="error-container" ng-messages="personalForm.zipcode.$error" ng-if="personalForm.zipcode.$touched">
              <div ng-repeat="errorMessage in vm.errorMessages">
                <div class="error padding" ng-message-exp="errorMessage.type">
                  <i class="ion-ios-information-outline"></i>
                  {{ errorMessage.text }}
                </div>
              </div>
            </div>
            <label class="item item-input item-stacked-label" ng-class="{ 'has-errors' : personalForm.email.$touched && personalForm.email.$invalid, 'no-errors' : personalForm.email.$touched && personalForm.email.$valid }">
              <span class="input-label">Email Address</span>
              <input
                type="email"
                name="email"
                placeholder="manuela.velasco@gmail.com"
                ng-model="vm.model.email"
                required />
            </label>
            <div class="error-container" ng-messages="personalForm.email.$error" ng-if="personalForm.email.$touched">
              <div ng-repeat="errorMessage in vm.errorMessages">
                <div class="error padding" ng-message-exp="errorMessage.type">
                  <i class="ion-ios-information-outline"></i>
                  {{ errorMessage.text }}
                </div>
              </div>
            </div>
            <label class="item item-input item-stacked-label" ng-class="{ 'has-errors' : personalForm.phoneMobile.$touched && personalForm.phoneMobile.$invalid, 'no-errors' : personalForm.phoneMobile.$touched && personalForm.phoneMobile.$valid }">
              <span class="input-label">Mobile Number</span>
              <input
                type="tel"
                name="phoneMobile"
                placeholder="09064677691"
                ng-model="vm.model.phones.mobile"
                ng-pattern="/^((\+63)|0)[.\- ]?9[0-9]{2}[.\- ]?[0-9]{3}[.\- ]?[0-9]{4}$/"
                required />
            </label>
            <div class="error-container" ng-messages="personalForm.phoneMobile.$error" ng-if="personalForm.phoneMobile.$touched">
              <div ng-repeat="errorMessage in vm.errorMessages">
                <div class="error padding" ng-message-exp="errorMessage.type">
                  <i class="ion-ios-information-outline"></i>
                  {{ errorMessage.text }}
                </div>
              </div>
            </div>
            <label class="item item-input item-stacked-label">
              <span class="input-label">Landline Number</span>
              <input
                type="tel"
                name="phoneOther"
                placeholder="(02) 988-4265 (optional)"
                ng-model="vm.model.phones.other" />
            </label>
          </div>
        </form>
      </ion-wizard-content>
    </ion-slide>
    <ion-slide ion-wizard-step>
      <ion-wizard-content class="has-header">
        <form name="incomeForm">
          <div class="list">
            <div class="item item-divider">
              Income Details
            </div>
            <label class="item item-input item-stacked-label" ng-class="{ 'has-errors' : incomeForm.amount.$touched && incomeForm.amount.$invalid, 'no-errors' : incomeForm.amount.$touched && incomeForm.amount.$valid }">
              <span class="input-label">Gross Monthly Income (in Peso)</span>
              <input
                type="number"
                name="amount"
                placeholder="45,000"
                ng-model="vm.model.income.amount"
                required />
            </label>
            <div class="error-container" ng-messages="incomeForm.amount.$error" ng-if="incomeForm.amount.$touched">
              <div ng-repeat="errorMessage in vm.errorMessages">
                <div class="error padding" ng-message-exp="errorMessage.type">
                  <i class="ion-ios-information-outline"></i>
                  {{ errorMessage.text }}
                </div>
              </div>
            </div>
            <div class="item item-divider">
              Source of Income
            </div>
            <ion-radio
              ng-repeat="item in vm.incomeSources"
              ng-value="item.value"
              ng-model="vm.model.income.source"
              required>
              {{ item.text }}
            </ion-radio>
          </div>
        </form>
      </ion-wizard-content>
    </ion-slide>
  </ion-slide-box>
</ion-view>
